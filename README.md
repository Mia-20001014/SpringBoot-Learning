# SpringBoot-Learning

## 记录学习spring的基础知识

传统的javaweb项目最终会把程序（其中包括：所有的 Java 代码（编译好的 class 文件），依赖的 jar 文件（库），配置文件（如 web.xml）以及 Web 资源（html, jsp, css, js 等））整合为一个war包，把这个war包发给服务器，服务器就会解压和运行这个war包，于是我们的javaweb项目就从本地变为网络的了。以下是一个传统的javaweb项目开发流程：

1️⃣ 本地开发
在 Eclipse、IntelliJ IDEA 里写 Java 代码，调试、测试。

2️⃣ 打包成 WAR
通过 maven、gradle 之类的工具，把整个 Web 项目打成一个 xxx.war 文件。

3️⃣ 传给服务器
把 xxx.war 文件上传到服务器（Linux、Windows、云…）。

4️⃣ Web 容器（Tomcat）接手
Tomcat 会自动把 WAR 文件解压到它的 webapps 目录

5️⃣ 运行
Tomcat（或其他容器）自动加载解压后的 WEB-INF/classes（class 文件）和 WEB-INF/lib（依赖的 jar 包），然后就能对外提供 Web 服务（比如 http://localhost:8080/myapp）！


springboot再次简化了上述的流程，内嵌了一个Tomcat，也就是说，我的项目不再需要外部的web容器了。以下是对比的表格： 

| 项目类型 | Spring Boot Jar 包            | Spring Boot War 包                    |
| ---- | ---------------------------- | ------------------------------------ |
| 服务器  | 内嵌 Tomcat / Jetty / Undertow | 外部 Tomcat / Jetty / JBoss…           |
| 打包结果 | `.jar` 文件                    | `.war` 文件                            |
| 运行方式 | 直接 `java -jar xxx.jar`       | 把 `.war` 放到外部 Tomcat 的 `webapps` 目录里 |
| 推荐场景 | 新项目，简化部署，支持容器化（Docker）       | 老旧 Tomcat 平台，或需要集成传统 Web 容器          |

我的理解是：假如，我是一个老师，我本学期想带着我的学生们写一个大的项目，我已经把这个项目所需要的一切东西有些什么，这些东西互相是个什么样的依赖结构都预先设计好了，但是我并没有写每个文件的具体内容。然后这些空文件会组成一个骨架，我把它打包起来发给每个学生。我们每上一节课，就填充一点点内容，最后直接就是一个完整，清晰，健全的项目文件了。这样学生们就只需要关注每个功能每个业务怎么实现了，大大加快效率。spring就是让老师在有了想法后可以快速的得到这个骨架的一个工具，也可以说，它就是一个java项目的骨架。springboot是在spring框架下进一步地进行简化。

## 在我的编译器（vscode）中配置springboot

要下载jdk（之前下了不用下了），maven，网上都有教程，跟着配置系统变量就行。Spring Initializr 功能主要通过命令面板（Ctrl+Shift+P / Cmd+Shift+P）调用，在弹出的命令列表里选择创建项目（此处需要先在vscode安装java和springboot的相关extension）。也可以在官网上弄，下载官网生成的压缩包再本地打开。

## 什么是微服务

| 方面    | 单体架构           | 微服务架构            |
| ----- | -------------- | ---------------- |
| 应用结构  | 一个整体应用，所有功能在一起 | 拆分成多个独立服务，各司其职   |
| 部署    | 作为一个整体打包和部署    | 每个服务独立部署         |
| 技术栈   | 通常单一技术栈        | 各个服务可以用不同技术栈     |
| 维护和扩展 | 复杂，改动影响全局      | 更灵活，单个服务改动不影响其他  |
| 故障隔离  | 故障可能影响整个应用     | 故障限于单个服务，系统整体更健壮 |

各个微小服务之间通信的基本方式就是通过调用对方的API，遵循相同API规则（例如REST API）的API才可以相互调用，所以开发时必须要为你想和它互调接口的app写专属接口，接口如果太多，可以抽象出一层出来。所以接口怎么写，要包含哪些内容也是一门学问。符合程序设计理念：高内聚，低耦合！

sprintboot可以快速帮我们构建微服务的应用单元。




